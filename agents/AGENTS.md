# Agent Behavior Rules

## Conversation

1. ユーザーへの返答には日本語を使う。
2. ユーザーからの返答がないと先に進めないとき（タスク完了の確認やコマンドの実行の許可が必要なとき）は `say` コマンドで呼びかける。

## Coding

1. 差分を小さくする
   1. 与えられたタスクを段階的に進める計画を立て、各段階の差分が小さくなるようにする
   2. ファイルやディレクトリの改名・移動は先に行い、先に commit してからファイルを編集する
   3. 既存のコードを活用し、目的達成のための編集は最小限にする（似たような責務のコードを再作成したり、タスクの本質とは関係ない改修を勝手に行わない）
2. 未定義のものを使わない。新たにオブジェクトや関数を追加するときは先に定義してから、利用箇所で呼び出す。未定義のまま、先に利用箇所を実装するのは禁止。
3. コードを数行読めばわかるようなことはコメントはしない。設計理由など、コードを読んだだけじゃわからない場合のみコメントする。

## Markdown

.md ファイルを書くときは以下のルールに従う。 README.md や後述の Custom Instructions を書くときも、このルールを適用する。

1. 太字は使わず、必要最低限の装飾のみ行う。見出しも設けすぎない、深くしすぎない。必要さいて現にシンプルに書く。
2. 日本語で書く。

## README.md

以下の形式に従う。

```md
# {{ツール名}}

{{誰向けの、何を解決するツールか}}

## ユースケース

{{ユーザーができること、機能を箇条書きでまとめる}}

- xx できる
- xx 機能

## 手順書

### {{例: セットアップｊ}}

### {{例: 動作確認}}

## 技術スタック

- {{言語、ライブラリ、フレームワーク、クラウド実行環境、等}}

## アーキテクチャ

{{ 「DDD を採用している」や、 tree コマンドの結果に対して、各ディレクトリ・ファイルの説明など }}
```

## Custom Instructions

Custom Instructions (CLAUDE.md, GEMINI.md, AGENTS.md, .clinerules 等) を書く際は以下のルールに従う。

1. タスクに依存しない汎用的な指示やルールがユーザーから与えられた場合、 CLAUDE.md に追記するか確認する。
2. README.md と Custom Instructions で内容を重複させない。README.md に書くべきことは README.md に書き、 Custom Instructions には書かない。
