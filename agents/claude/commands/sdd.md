---
description: Spec-Driven Development - 仕様書を先に書いてから実装する
argument-hint: [機能名/ファイルパス（オプション）]
---

Spec-Driven Development のアプローチで開発を進めます。

## ステップ

以下の手順で段階的に進めてください：

**（厳守！！）各ステップが完了したら必ず手を止めて、ユーザーに `say` コマンドで終了のメッセージを通知する。ユーザーから許可があるまで絶対に次のステップに進まない。ユーザーの許可なしに次のステップに勝手に進むことは厳禁。絶対にやらないで。**

1. requirements.md を作成

   - 必要に応じて、要件に関する不明点をユーザーに質問する
   - 機能の目的と背景
   - ユーザーストーリー
   - 機能要件と非機能要件
   - 受け入れ基準
   - **作成後、ユーザーに `say` コマンドで確認を求める**

2. design.md を作成

   - 必要に応じて、設計に関する不明点をユーザーに質問する
   - アーキテクチャ概要
   - インターフェース設計（関数、クラス、API）
   - データ構造
   - 処理フロー
   - エッジケースの扱い
   - **作成後、ユーザーに `say` コマンドで確認を求める**

3. tasks.md を作成

   - 必要に応じて、実装方針に関する不明点をユーザーに質問する
   - 実装ステップを番号付きリストで記載
   - 各ステップでは、具体的に**どのファイルのどのオブジェクト（関数、クラス、変数等）を編集するか**を明記
   - 各ステップの依存関係を明記
   - チェックボックス `[ ]` で進捗管理
   - 書式は下記の「tasks.md の書式」に従う

tasks.md の書式:

- 見出しはタイトルのみ使い、他の場所で使うのは禁止。
- 各ステップは番号付きリストで表現し、番号のない箇条書きは禁止。
- 各ステップの文頭には必ず `[ ]` を付けて進捗を管理する。完了済みは `[x]`、未着手は `[ ]` で表現する。
- 太字や斜体など、余計な装飾は禁止。

```md
# タスクのタイトル

1. [ ] src/foo.ts の bar 関数を編集
   1. [x] 引数の型を追加
   2. [ ] 戻り値の型を追加
2. [ ] src/baz.ts に qux 関数を追加
```

4. 段階的な実装
   - tasks.md の各ステップごとに実装を進める
   - 各ステップ完了後に、ビルドやリントなどの動作確認コマンドを実行し、エラーがなくなるまで繰り返す
   - 3 回以上繰り返したり、解決策に自信がない場合は手を止めて、ユーザーに相談する
   - 仕様との差異があれば、仕様または実装を調整する
   - ステップ完了時に tasks.md のチェックボックスを `[x]` に更新
   - **（厳守！！）各ステップが完了したら必ず手を止めて、ユーザーに `say` コマンドで終了のメッセージを通知する。ユーザーから許可があるまで絶対に次のステップに進まない。ユーザーの許可なしに次のステップに勝手に進むことは厳禁。絶対にやらないで。**

## 対象

$ARGUMENTS

ドキュメントは specs/{YYYY-mm-dd}\_$ARGUMENTS/ に作成
